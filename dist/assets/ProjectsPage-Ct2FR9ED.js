import{e as q,u as Q,r as o,j as e,C as t,d as r,B as i,a as W,b as Z}from"./index--Ct_i1hN.js";import{G as ee,C as se,A as ae}from"./CreateProjectDialog-B50wA-BL.js";import{I as te}from"./input-C_7U790y.js";import{F as d,B as f,U as z,T as re}from"./ComprehensiveSidebar-Vlctflbj.js";import{j as C,k,l as P,m as c,o as M,C as le}from"./dropdown-menu-M5hY8prX.js";import{u as ce}from"./app-store-DSCC-9CO.js";import{A as I}from"./api-DvETopcE.js";import{C as ie}from"./circle-alert-CZVp4ml2.js";import{P as R,E as B}from"./plus-YY2nQTOV.js";import{C as b}from"./circle-check-big-CiHdLTWt.js";import{C as G}from"./clock-VI92Tq_x.js";import{S as ne}from"./search-Y8kUxL9q.js";import{L as $}from"./loader-circle-D7JJz-J1.js";import{C as oe}from"./circle-x-CvIp_DmC.js";import"./label-rsT8mm_G.js";import"./textarea-DXjYrcOW.js";import"./sparkles-BfGdNXHf.js";import"./index-D1ykkcZR.js";import"./index-BdQq_4o_.js";import"./index-CAJCthQj.js";import"./check-n9Ozjfd-.js";/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],me=q("funnel",de);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],he=q("list",xe),g={active:{label:"Active",color:"bg-green-100 text-green-700",icon:b},completed:{label:"Completed",color:"bg-blue-100 text-blue-700",icon:b},paused:{label:"Paused",color:"bg-yellow-100 text-yellow-700",icon:G},draft:{label:"Draft",color:"bg-gray-100 text-gray-700",icon:d}},je=()=>{var T;const{user:S}=Q(),{addNotification:l}=ce(),[m,H]=o.useState([]),[j,A]=o.useState(!1),[w,L]=o.useState(null),[x,U]=o.useState(""),[h,D]=o.useState("all"),[y,_]=o.useState("grid"),[O,u]=o.useState(!1);o.useEffect(()=>{N()},[]);const N=async()=>{try{A(!0),L(null);const s=await I.getProjects();H(s),console.log("Loaded projects:",s),l&&l({type:"success",title:"Projects loaded",message:`Loaded ${s.length} projects successfully`,duration:3e3})}catch(s){console.error("Failed to load projects:",s),L("Failed to load projects"),l&&l({type:"error",title:"Error",message:"Failed to load projects. Please try again.",duration:5e3})}finally{A(!1)}},V=async s=>{if(!S){l&&l({type:"error",title:"Authentication Required",message:"Please log in to create projects"});return}try{console.log("Creating project with data:",s),await I.createProject(s),l&&l({type:"success",title:"Success!",message:`Project "${s.name}" created successfully`,duration:5e3}),u(!1),await N()}catch(a){console.error("Failed to create project:",a),l&&l({type:"error",title:"Failed to create project",message:a instanceof Error?a.message:"An unknown error occurred",duration:5e3})}},v=m.filter(s=>{const a=x===""||s.name.toLowerCase().includes(x.toLowerCase())||s.problem_statement&&s.problem_statement.toLowerCase().includes(x.toLowerCase())||s.industry.toLowerCase().includes(x.toLowerCase()),n=h==="all"||s.status===h;return a&&n}),p={total:m.length,active:m.filter(s=>s.status==="active").length,completed:m.filter(s=>s.status==="completed").length,paused:m.filter(s=>s.status==="paused").length,draft:m.filter(s=>s.status==="draft").length},E=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),F=s=>{var n;const a=((n=g[s])==null?void 0:n.icon)||d;return e.jsx(a,{className:"h-4 w-4"})},K=({project:s})=>{const a=Math.floor(Math.random()*100),n=Math.floor(Math.random()*10)+1,Y=Math.floor(Math.random()*20)+1,J=Math.floor(Math.random()*50)+1;return e.jsxs(t,{className:"group bg-white/80 backdrop-blur-sm border-0 shadow-sm hover:shadow-lg transition-all duration-300 hover:bg-white/90",children:[e.jsxs(W,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(f,{variant:"outline",className:g[s.status].color,children:[F(s.status),e.jsx("span",{className:"ml-1",children:g[s.status].label})]}),e.jsx(f,{variant:"outline",className:"text-xs",children:"High Priority"})]}),e.jsxs(C,{children:[e.jsx(k,{asChild:!0,children:e.jsx(i,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(B,{className:"h-4 w-4"})})}),e.jsxs(P,{align:"end",children:[e.jsx(c,{children:"Edit Project"}),e.jsx(c,{children:"View Details"}),e.jsx(c,{children:"Duplicate"}),e.jsx(M,{}),e.jsx(c,{className:"text-red-600",children:"Archive"})]})]})]}),e.jsx(Z,{className:"text-lg font-semibold group-hover:text-orange-600 transition-colors",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:s.problem_statement||"No description available"})]}),e.jsx(r,{className:"pt-0",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[a,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-yellow-400 h-2 rounded-full transition-all duration-300",style:{width:`${a}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-1 text-gray-600",children:[e.jsx(z,{className:"h-3 w-3"}),e.jsx("span",{children:n})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-gray-600",children:[e.jsx(d,{className:"h-3 w-3"}),e.jsx("span",{children:Y})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-gray-600",children:[e.jsx(re,{className:"h-3 w-3"}),e.jsx("span",{children:J})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Created: ",E(s.created_at)]}),e.jsx(f,{variant:"outline",className:"text-xs",children:s.industry})]})]})})]})},X=({project:s})=>{const a=Math.floor(Math.random()*100),n=Math.floor(Math.random()*10)+1;return e.jsx(t,{className:"mb-2",children:e.jsx(r,{className:"p-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[F(s.status),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-sm truncate",children:s.name}),e.jsx("p",{className:"text-xs text-gray-600 truncate",children:s.problem_statement||"No description"})]}),e.jsx(f,{variant:"secondary",className:"bg-red-100 text-red-700",children:"High Priority"}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(z,{className:"h-3 w-3"}),e.jsx("span",{children:n})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(le,{className:"h-3 w-3"}),e.jsx("span",{children:E(s.created_at)})]}),e.jsxs("div",{className:"w-20",children:[e.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:[a,"%"]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1",children:e.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-yellow-400 h-1 rounded-full",style:{width:`${a}%`}})})]})]}),e.jsxs(C,{children:[e.jsx(k,{asChild:!0,children:e.jsx(i,{variant:"ghost",size:"sm",children:e.jsx(B,{className:"h-4 w-4"})})}),e.jsxs(P,{align:"end",children:[e.jsx(c,{children:"Edit Project"}),e.jsx(c,{children:"View Details"}),e.jsx(c,{children:"Duplicate"}),e.jsx(M,{}),e.jsx(c,{className:"text-red-600",children:"Archive"})]})]})]})})})})};return S?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-amber-50 to-yellow-50 p-6",children:[e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-6 border-0 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Project Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage your KAIROS strategic projects and track progress"})]}),e.jsxs(i,{onClick:()=>u(!0),className:"bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600 text-white gap-2",children:[e.jsx(R,{className:"h-4 w-4"}),"New Project"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx(t,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-sm",children:e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d,{className:"h-5 w-5 text-gray-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Projects"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.total})]})]})})}),e.jsx(t,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-sm",children:e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:p.active})]})]})})}),e.jsx(t,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-sm",children:e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:p.completed})]})]})})}),e.jsx(t,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-sm",children:e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{className:"h-5 w-5 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paused"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:p.paused})]})]})})}),e.jsx(t,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-sm",children:e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d,{className:"h-5 w-5 text-gray-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Draft"}),e.jsx("p",{className:"text-2xl font-bold text-gray-600",children:p.draft})]})]})})})]}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-4 border-0 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(ne,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(te,{placeholder:"Search projects by name, description, or industry...",value:x,onChange:s=>U(s.target.value),className:"pl-10"})]}),e.jsxs(C,{children:[e.jsx(k,{asChild:!0,children:e.jsxs(i,{variant:"outline",className:"gap-2",children:[e.jsx(me,{className:"h-4 w-4"}),h==="all"?"All Status":(T=g[h])==null?void 0:T.label]})}),e.jsxs(P,{children:[e.jsx(c,{onClick:()=>D("all"),children:"All Projects"}),e.jsx(M,{}),Object.entries(g).map(([s,a])=>e.jsx(c,{onClick:()=>D(s),children:a.label},s))]})]}),e.jsxs(i,{onClick:N,variant:"outline",disabled:j,className:"gap-2",children:[j?e.jsx($,{className:"h-4 w-4 animate-spin"}):e.jsx(d,{className:"h-4 w-4"}),"Refresh"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(i,{variant:y==="grid"?"default":"outline",size:"sm",onClick:()=>_("grid"),children:e.jsx(ee,{className:"h-4 w-4"})}),e.jsx(i,{variant:y==="list"?"default":"outline",size:"sm",onClick:()=>_("list"),children:e.jsx(he,{className:"h-4 w-4"})})]})]})}),j&&e.jsx(t,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-sm",children:e.jsxs(r,{className:"p-12 text-center",children:[e.jsx($,{className:"h-8 w-8 animate-spin text-orange-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading projects..."})]})}),w&&!j&&e.jsx(t,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-sm",children:e.jsxs(r,{className:"p-12 text-center",children:[e.jsx(oe,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Projects"}),e.jsx("p",{className:"text-gray-600 mb-4",children:w}),e.jsxs(i,{onClick:N,className:"gap-2",children:[e.jsx(d,{className:"h-4 w-4"}),"Try Again"]})]})}),!j&&!w&&e.jsx("div",{className:"space-y-4",children:v.length===0?e.jsx(t,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-sm",children:e.jsxs(r,{className:"p-12 text-center",children:[e.jsx(d,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:m.length===0?"No projects yet":"No projects found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:x||h!=="all"?"Try adjusting your search or filter criteria.":"Get started by creating your first strategic project."}),!x&&h==="all"&&e.jsxs(i,{onClick:()=>u(!0),className:"bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600 text-white gap-2",children:[e.jsx(R,{className:"h-4 w-4"}),"Create Your First Project"]})]})}):e.jsx("div",{children:y==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(s=>e.jsx(K,{project:s},s._id))}):e.jsx("div",{className:"space-y-2",children:v.map(s=>e.jsx(X,{project:s},s._id))})})})]}),e.jsx(se,{open:O,onOpenChange:u,onCreateProject:V})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-amber-50 to-yellow-50 p-6",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx(t,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-sm",children:e.jsxs(r,{className:"p-12 text-center",children:[e.jsx(ie,{className:"h-12 w-12 text-orange-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Authentication Required"}),e.jsx("p",{className:"text-gray-600",children:"Please log in to view and manage your projects."})]})})})})},ze=()=>e.jsx(ae,{children:e.jsx(je,{})});export{ze as ProjectsPage};
