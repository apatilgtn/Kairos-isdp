import{e as B,r as l,j as e,C as i,d as n,B as d,a as k,b as T,c as E}from"./index--Ct_i1hN.js";import{P as G}from"./PageLayout-B5QyAS-9.js";import{F as g,T as Q,C as P,B as p,S as U}from"./ComprehensiveSidebar-Vlctflbj.js";import{I as H}from"./input-C_7U790y.js";import{A as L}from"./api-DvETopcE.js";import{r as K}from"./realtime-data-service-CbPVwOdU.js";import{R as V}from"./refresh-cw-DX8cYh6-.js";import{P as q,E as J}from"./plus-YY2nQTOV.js";import{S as f}from"./star-JpMFUgxY.js";import{S as O}from"./search-Y8kUxL9q.js";import{C as X}from"./clock-VI92Tq_x.js";import{B as Y}from"./brain-C_B9-vVQ.js";import{E as Z}from"./eye--OXZG_jK.js";import{D as ee}from"./download-DNvapSz4.js";import"./sparkles-BfGdNXHf.js";/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]],te=B("share",se),ae=()=>{const[A,N]=l.useState(!0),[r,y]=l.useState([]),[re,I]=l.useState([]),[w,z]=l.useState([]),[m,R]=l.useState(""),[x,v]=l.useState("all"),[j,le]=l.useState("all"),[oe,$]=l.useState(null);l.useEffect(()=>{_()},[]),l.useEffect(()=>{F()},[r,m,x,j]);const _=async()=>{N(!0);try{const s=await L.getProjects();I(s);const t=[];for(const a of s)try{const h=(await L.getDocuments(a._id)).map(b=>({...b,project_name:a.name,quality_score:Math.max(70,Math.min(98,85+Math.random()*20-10)),word_count:Math.floor(Math.random()*2e3)+500,ai_model:Math.random()>.35?"kimi-k2-0711-preview":"default",persona:S()}));t.push(...h)}catch(c){console.warn(`Failed to load documents for project ${a._id}:`,c)}if(t.length===0){const a=D(s);t.push(...a)}y(t);const o=await K.generateRealtimeDashboardStats();$(o)}catch(s){console.error("Failed to load documents data:",s);const t=D([]);y(t)}finally{N(!1)}},F=()=>{let s=r;m&&(s=s.filter(t=>{var o;return t.title.toLowerCase().includes(m.toLowerCase())||t.document_type.toLowerCase().includes(m.toLowerCase())||((o=t.project_name)==null?void 0:o.toLowerCase().includes(m.toLowerCase()))})),x!=="all"&&(s=s.filter(t=>t.document_type===x)),j!=="all"&&(s=s.filter(t=>t.project_id===j)),z(s)},D=s=>{const t=["roadmap","business_case","feasibility_study","project_charter","scope_statement","rfp"],o=[];for(let a=0;a<15;a++){const c=s[Math.floor(Math.random()*Math.max(1,s.length))]||{_id:"mock",name:"Sample Project"},h=t[Math.floor(Math.random()*t.length)];o.push({_id:`mock_${a}`,title:`${h.replace("_"," ").replace(/\b\w/g,b=>b.toUpperCase())} - ${c.name}`,document_type:h,content:`Generated ${h.replace("_"," ")} content for ${c.name}...`,generated_at:Date.now()-Math.random()*30*24*60*60*1e3,project_id:c._id,project_name:c.name,quality_score:Math.max(70,Math.min(98,85+Math.random()*20-10)),word_count:Math.floor(Math.random()*2e3)+500,ai_model:Math.random()>.35?"kimi-k2-0711-preview":"default",persona:S()})}return o},S=()=>{const s=["Technology Strategist","Healthcare Innovation Consultant","Financial Technology Advisor","Retail & E-commerce Expert","Education Technology Innovator","Sustainability Consultant"];return s[Math.floor(Math.random()*s.length)]},C=s=>({roadmap:"bg-blue-100 text-blue-800 border-blue-200",business_case:"bg-indigo-100 text-indigo-800 border-indigo-200",feasibility_study:"bg-emerald-100 text-emerald-800 border-emerald-200",project_charter:"bg-purple-100 text-purple-800 border-purple-200",scope_statement:"bg-teal-100 text-teal-800 border-teal-200",rfp:"bg-rose-100 text-rose-800 border-rose-200"})[s]||"bg-gray-100 text-gray-800 border-gray-200",W=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),M=[...new Set(r.map(s=>s.document_type))],u={total:r.length,thisWeek:r.filter(s=>s.generated_at>Date.now()-10080*60*1e3).length,avgQuality:Math.round(r.reduce((s,t)=>s+(t.quality_score||0),0)/Math.max(1,r.length)),totalWords:r.reduce((s,t)=>s+(t.word_count||0),0)};return A?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50 p-6",children:e.jsx("div",{className:"container mx-auto",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(s=>e.jsx(i,{className:"animate-pulse",children:e.jsx(n,{className:"pt-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-slate-200 rounded w-full"}),e.jsx("div",{className:"h-3 bg-slate-200 rounded w-2/3"})]})})},s))})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50 p-6",children:e.jsxs("div",{className:"container mx-auto space-y-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Document Library"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"AI-generated strategic documents and business intelligence"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(d,{onClick:_,variant:"outline",className:"gap-2",children:[e.jsx(V,{className:"w-4 h-4"}),"Refresh"]}),e.jsxs(d,{className:"gap-2 bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(q,{className:"w-4 h-4"}),"Generate Document"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(i,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white border-0 shadow-xl",children:e.jsx(n,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-bold",children:u.total}),e.jsx("p",{className:"text-sm font-medium text-blue-100",children:"Total Documents"}),e.jsx("p",{className:"text-xs text-blue-200",children:"Generated"})]}),e.jsx(g,{className:"w-10 h-10 text-blue-200 opacity-80"})]})})}),e.jsx(i,{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 text-white border-0 shadow-xl",children:e.jsx(n,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-3xl font-bold",children:u.thisWeek}),e.jsx("p",{className:"text-sm font-medium text-emerald-100",children:"This Week"}),e.jsx("p",{className:"text-xs text-emerald-200",children:"Recent Activity"})]}),e.jsx(Q,{className:"w-10 h-10 text-emerald-200 opacity-80"})]})})}),e.jsx(i,{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white border-0 shadow-xl",children:e.jsx(n,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-3xl font-bold",children:[u.avgQuality,"%"]}),e.jsx("p",{className:"text-sm font-medium text-purple-100",children:"Avg Quality"}),e.jsx("p",{className:"text-xs text-purple-200",children:"AI Assessment"})]}),e.jsx(f,{className:"w-10 h-10 text-purple-200 opacity-80"})]})})}),e.jsx(i,{className:"bg-gradient-to-br from-amber-500 to-orange-500 text-white border-0 shadow-xl",children:e.jsx(n,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-3xl font-bold",children:[Math.round(u.totalWords/1e3),"K"]}),e.jsx("p",{className:"text-sm font-medium text-amber-100",children:"Total Words"}),e.jsx("p",{className:"text-xs text-amber-200",children:"Content Generated"})]}),e.jsx(P,{className:"w-10 h-10 text-amber-200 opacity-80"})]})})})]}),e.jsx(i,{className:"bg-white/80 backdrop-blur-sm border-slate-200 shadow-lg",children:e.jsx(n,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(O,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),e.jsx(H,{type:"text",placeholder:"Search documents, projects, or content...",value:m,onChange:s=>R(s.target.value),className:"pl-10 bg-white border-slate-300"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{variant:x==="all"?"default":"outline",size:"sm",onClick:()=>v("all"),children:"All Types"}),M.slice(0,4).map(s=>e.jsx(d,{variant:x===s?"default":"outline",size:"sm",onClick:()=>v(s),className:"capitalize",children:s.replace("_"," ")},s))]})]})})}),w.length===0?e.jsx(i,{className:"text-center py-16 bg-white/80 backdrop-blur-sm border-slate-200 shadow-lg",children:e.jsxs(n,{children:[e.jsx(g,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2 text-slate-800",children:r.length===0?"No documents yet":"No documents found"}),e.jsx("p",{className:"text-slate-600 mb-6 max-w-md mx-auto",children:r.length===0?"Generate your first strategic document using AI-powered templates.":"Try adjusting your search or filter criteria to find what you're looking for."}),r.length===0&&e.jsxs(d,{className:"bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"Generate First Document"]})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(s=>{var t;return e.jsxs(i,{className:"group cursor-pointer transition-all duration-200 hover:shadow-xl hover:-translate-y-1 bg-white/80 backdrop-blur-sm border-slate-200 shadow-lg",children:[e.jsx(k,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"space-y-2 flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{variant:"secondary",className:C(s.document_type),children:s.document_type.replace("_"," ").toUpperCase()}),s.quality_score&&s.quality_score>90&&e.jsxs(p,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:[e.jsx(f,{className:"w-3 h-3 mr-1"}),"Excellent"]})]}),e.jsx(T,{className:"text-lg text-slate-800 group-hover:text-indigo-600 transition-colors line-clamp-2",children:s.title}),e.jsx(E,{className:"text-sm text-slate-600",children:s.project_name})]}),e.jsx(d,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(J,{className:"w-4 h-4"})})]})}),e.jsxs(n,{className:"pt-0",children:[e.jsx("p",{className:"text-sm text-slate-600 line-clamp-3 mb-4",children:s.content}),e.jsx(U,{className:"my-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1 text-slate-500",children:[e.jsx(X,{className:"w-3 h-3"}),e.jsx("span",{children:W(s.generated_at)})]}),e.jsxs("div",{className:"flex items-center gap-1 text-slate-500",children:[e.jsx(g,{className:"w-3 h-3"}),e.jsxs("span",{children:[(t=s.word_count)==null?void 0:t.toLocaleString()," words"]})]})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(p,{variant:"outline",className:"text-xs",children:[e.jsx(Y,{className:"w-3 h-3 mr-1"}),s.ai_model==="kimi-k2-0711-preview"?"Kimi":"Standard"]}),s.quality_score&&e.jsxs(p,{variant:"outline",className:`text-xs ${s.quality_score>90?"text-green-600 border-green-200":s.quality_score>80?"text-blue-600 border-blue-200":"text-amber-600 border-amber-200"}`,children:[e.jsx(f,{className:"w-3 h-3 mr-1"}),Math.round(s.quality_score),"%"]})]})}),e.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[e.jsxs(d,{size:"sm",variant:"outline",className:"flex-1 gap-1 text-xs",children:[e.jsx(Z,{className:"w-3 h-3"}),"View"]}),e.jsxs(d,{size:"sm",variant:"outline",className:"flex-1 gap-1 text-xs",children:[e.jsx(ee,{className:"w-3 h-3"}),"Export"]}),e.jsx(d,{size:"sm",variant:"outline",className:"gap-1 text-xs",children:e.jsx(te,{className:"w-3 h-3"})})]})]})]})]},s._id)})}),e.jsxs(i,{className:"bg-white/80 backdrop-blur-sm border-slate-200 shadow-lg",children:[e.jsxs(k,{children:[e.jsxs(T,{className:"flex items-center gap-3",children:[e.jsx(P,{className:"w-6 h-6 text-indigo-600"}),"Document Type Analysis"]}),e.jsx(E,{children:"Distribution and performance of generated documents"})]}),e.jsx(n,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:M.map(s=>{const t=r.filter(a=>a.document_type===s).length,o=Math.round(r.filter(a=>a.document_type===s).reduce((a,c)=>a+(c.quality_score||0),0)/Math.max(1,t));return e.jsxs("div",{className:"text-center p-4 bg-slate-50 rounded-lg border border-slate-200",children:[e.jsx("div",{className:`w-12 h-12 rounded-full mx-auto mb-2 flex items-center justify-center ${C(s).split(" ")[0].replace("100","500")}`,children:e.jsx(g,{className:"w-6 h-6 text-white"})}),e.jsx("p",{className:"text-sm font-semibold text-slate-800 capitalize mb-1",children:s.replace("_"," ")}),e.jsxs("p",{className:"text-xs text-slate-600 mb-2",children:[t," documents"]}),e.jsxs(p,{variant:"outline",className:"text-xs",children:[o,"% quality"]})]},s)})})})]})]})})},we=()=>e.jsx(G,{children:e.jsx(ae,{})});export{we as DocumentsPage};
