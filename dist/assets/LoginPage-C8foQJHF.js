import{u as E,r as n,j as e,N as A,C as I,a as P,b as F,c as O,d as T,B as d}from"./index--Ct_i1hN.js";import{u as V}from"./app-store-DSCC-9CO.js";import{I as p}from"./input-C_7U790y.js";import{L as h}from"./label-rsT8mm_G.js";import{A as k,a as L}from"./alert-CgCTLOah.js";import{S as R}from"./sparkles-BfGdNXHf.js";import{M as f}from"./mail-DfTNCLsT.js";import{L as j}from"./loader-circle-D7JJz-J1.js";import{S as g}from"./shield-C64daEXr.js";const G=()=>{const{isAuthenticated:N,isLoading:s,sendOTP:y,login:v}=E(),{addNotification:o}=V(),[c,m]=n.useState("email"),[a,b]=n.useState(""),[i,x]=n.useState(""),[u,r]=n.useState("");if(N)return e.jsx(A,{to:"/",replace:!0});const S=async t=>{if(t.preventDefault(),!!a.trim()){r("");try{await y(a),m("otp"),o({type:"success",title:"Verification Code Sent",message:`Check your email at ${a} for the verification code.`,duration:5e3})}catch(l){r("Failed to send verification code. Please try again."),console.error("Send OTP error:",l)}}},w=async t=>{if(t.preventDefault(),!!i.trim()){r("");try{await v(a,i),o({type:"success",title:"Welcome to KAIROS!",message:"Successfully logged in. Ready to create strategic documents.",duration:3e3})}catch(l){r("Invalid verification code. Please try again."),console.error("Verify OTP error:",l)}}},C=()=>{m("email"),x(""),r("")};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center",children:e.jsx(R,{className:"w-6 h-6 text-primary-foreground"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-primary",children:"KAIROS"}),e.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Intelligent Strategic Document Platform"})]})]}),e.jsx("p",{className:"text-muted-foreground",children:"Transform strategic planning with AI-powered document generation"})]}),e.jsxs(I,{children:[e.jsxs(P,{className:"space-y-1",children:[e.jsx(F,{className:"text-xl",children:c==="email"?"Sign In":"Verify Email"}),e.jsx(O,{children:c==="email"?"Enter your email to receive a verification code":`Enter the verification code sent to ${a}`})]}),e.jsxs(T,{className:"space-y-4",children:[u&&e.jsx(k,{variant:"destructive",children:e.jsx(L,{children:u})}),c==="email"?e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"email",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(p,{id:"email",type:"email",placeholder:"your@email.com",value:a,onChange:t=>b(t.target.value),className:"pl-10",required:!0,disabled:s})]})]}),e.jsx(d,{type:"submit",className:"w-full",disabled:s||!a.trim(),children:s?e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending Code..."]}):e.jsxs(e.Fragment,{children:[e.jsx(f,{className:"w-4 h-4 mr-2"}),"Send Verification Code"]})})]}):e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"otp",children:"Verification Code"}),e.jsxs("div",{className:"relative",children:[e.jsx(g,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(p,{id:"otp",type:"text",placeholder:"Enter 6-digit code",value:i,onChange:t=>x(t.target.value),className:"pl-10 text-center text-lg tracking-wider",maxLength:6,required:!0,disabled:s})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{type:"submit",className:"w-full",disabled:s||!i.trim(),children:s?e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"w-4 h-4 mr-2 animate-spin"}),"Verifying..."]}):e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Verify & Sign In"]})}),e.jsx(d,{type:"button",variant:"ghost",className:"w-full",onClick:C,disabled:s,children:"Back to Email"})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t space-y-3",children:[e.jsx("p",{className:"text-sm font-medium text-center mb-3",children:"Enterprise Features Include:"}),e.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),e.jsx("span",{children:"AI-powered business case & roadmap generation"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-accent rounded-full"}),e.jsx("span",{children:"Strategic document suite (Charter, SOW, RFP)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-primary rounded-full"}),e.jsx("span",{children:"Enterprise exports & SharePoint integration"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-accent rounded-full"}),e.jsx("span",{children:"Real-time collaboration & team management"})]})]})]})]})]})]})})};export{G as LoginPage};
